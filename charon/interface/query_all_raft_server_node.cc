/*************************************************************
 * 
 *  #####   ###   #     #    #		 #     #####    #####     ####
 *    #			 #    #	#	  #			#		#			 #  #	  	#		#		 #
 *    #			 #    #		# #				#				 ###			#####    #		
 *    #			###   #		  #				#				 #   #		#					####
 *
 * query_all_raft_server_node.cc
 * Generated by tinyrpc framework tinyrpc_generator.py
 * Create Time: 2022-11-20 14:23:00
 * This file will not be overwrite althrough protobuf file changed !!!
 * Just write this file while not exist
*************************************************************/


#include "tinyrpc/comm/log.h"
#include "charon/interface/query_all_raft_server_node.h"
#include "charon/pb/charon.pb.h"

#include "charon/raft/raft_node.h"

namespace charon {

QueryAllRaftServerNodeInterface::QueryAllRaftServerNodeInterface(const ::QueryAllRaftServerNodeRequest& request, ::QueryAllRaftServerNodeResponse& response)
  : m_request(request), 
  m_response(response) {

}

QueryAllRaftServerNodeInterface::~QueryAllRaftServerNodeInterface() {

}

void QueryAllRaftServerNodeInterface::run() {
  //
  // Run your business at here
  // m_reponse.set_ret_code(0);
  // m_reponse.set_res_info("Succ");
  //

  checkInputParam();

  queryAllRaftServer();

  setOutputParam();

}

void QueryAllRaftServerNodeInterface::checkInputParam() {

}

void QueryAllRaftServerNodeInterface::setOutputParam() {

}

void QueryAllRaftServerNodeInterface::queryAllRaftServer() {
  std::vector<ServerNode> node_list;
  RaftNode::GetRaftNode()->queryAllRaftServerNode(node_list);

  *m_response.mutable_node_list() = {node_list.begin(), node_list.end()};

}


}